{% extends 'base.html' %}

{% block navbar %}
  {# navbar intentionally hidden #}
{% endblock %}

{% block content %}
<section class="py-12 min-h-[84vh] bg-gradient-to-br from-indigo-100 via-white to-purple-100 flex items-center justify-center">
  
    <div class="w-full max-w-md mx-auto bg-white/95 dark:bg-neutral-900 rounded-3xl shadow-2xl p-8 sm:p-10">
      <h4 class="text-3xl font-extrabold mb-8 text-center text-indigo-700 dark:text-indigo-400 tracking-tight">Sign in</h4>
      {% include 'includes/alerts.html' %}
      <form action="{% url 'login' %}" method="POST" class="space-y-6">
        {% csrf_token %}
        <div>
          <label for="id_email" class="sr-only">Email</label>
          <input
            id="id_email"
            type="email"
            class="w-full px-4 py-3 border border-gray-200 dark:border-neutral-700 rounded-xl bg-gray-50 dark:bg-neutral-800 text-gray-900 dark:text-white placeholder-gray-400 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition text-base"
            placeholder="Email Address"
            name="email"
            required
            autocomplete="email"
          >
        </div>
        <div>
          <label for="id_password" class="sr-only">Password</label>
          <div class="relative">
            <input
              id="id_password"
              type="password"
              class="w-full px-4 py-3 border border-gray-200 dark:border-neutral-700 rounded-xl bg-gray-50 dark:bg-neutral-800 text-gray-900 dark:text-white placeholder-gray-400 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition pr-12 text-base"
              placeholder="Password"
              name="password"
              required
              autocomplete="current-password"
            >
            <button type="button" tabindex="-1" class="show-hide absolute inset-y-0 right-3 flex items-center text-gray-400 hover:text-indigo-500 text-lg focus:outline-none" onclick="togglePassword('id_password')">
              <i class="fa fa-eye"></i>
            </button>
          </div>
        </div>
        <div class="flex justify-end">
          <a href="#" class="text-sm text-indigo-600 dark:text-indigo-400 hover:underline">Forgot password?</a>
        </div>
        <div>
          <button type="submit" class="w-full py-3 rounded-xl bg-gradient-to-r from-indigo-600 to-purple-500 hover:from-purple-500 hover:to-indigo-600 text-white font-semibold text-lg shadow-xl transition-transform duration-150 active:scale-95">
            Login
          </button>
        </div>
      </form>

      <!-- Sign up link moved inside the same container -->
      <p class="text-center mt-6 text-gray-600 dark:text-gray-200">
        Don't have an account?
        <a href="{% url 'register' %}" class="text-indigo-600 dark:text-indigo-400 font-semibold hover:underline">Sign up</a>
      </p>
    </div>

</section>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">

<script>
function togglePassword(fieldId) {
  const input = document.getElementById(fieldId);
  if (!input) return;
  if (input.type === "password") {
    input.type = "text";
  } else {
    input.type = "password";
  }
}
</script>
{% endblock %}

